"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[261],{261:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(439),c=n(791),s=n(689),i=n(87),o=n(872),a="MovieDetails_wrapper__cJixg",l="MovieDetails_details__tmd20",u="MovieDetails_additional__EaCvI",h=n(184);function d(){var e,t,n=(0,s.UO)().id,d=(0,s.TH)(),f=(0,c.useState)((function(){return(0,o.h_)(n).then((function(e){return m(e)})).catch((function(e){return console.log(e)}))})),x=(0,r.Z)(f,2),v=x[0],m=x[1],j=v.title,p=v.release_date,_=v.poster_path,g=v.vote_average,w=v.overview,N=v.genres;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:a,children:[(0,h.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w300").concat(_),alt:"".concat(j," official poster")}),(0,h.jsxs)("div",{className:l,children:[(0,h.jsxs)("h2",{children:[j," ",p?"(".concat(p.slice(0,4),")"):""]}),(0,h.jsxs)("p",{children:["User score: ",function(e){var t=Math.round(10*e);return"".concat(t,"%")}(g)]}),(0,h.jsx)("h3",{children:"Overview"}),(0,h.jsx)("p",{children:w}),(0,h.jsx)("h3",{children:"Genres"}),(0,h.jsx)("ul",{children:N?N.map((function(e){return(0,h.jsx)("li",{children:e.name+" "},crypto.randomUUID())})):""})]})]}),(0,h.jsxs)("div",{className:u,children:[(0,h.jsx)("hr",{}),(0,h.jsx)("p",{children:"Additional information"}),(0,h.jsxs)("ul",{children:[(0,h.jsx)("li",{children:(0,h.jsx)(i.OL,{to:"cast",state:{from:null===(e=d.state)||void 0===e?void 0:e.from},children:"Cast"})}),(0,h.jsx)("li",{children:(0,h.jsx)(i.OL,{to:"reviews",state:{from:null===(t=d.state)||void 0===t?void 0:t.from},children:"Reviews"})})]})]})]})}var f={creditsGrid:"Credits_creditsGrid__f6bF5"};function x(e){var t=e.credits.cast;return(0,h.jsx)("ul",{className:f.creditsGrid,children:t.map((function(e){return(0,h.jsxs)("li",{children:[(0,h.jsx)("img",{className:f.photo,src:null!==e.profile_path?"".concat("https://image.tmdb.org/t/p/w185/").concat(e.profile_path):"https://placehold.jp/185x278.png",alt:"".concat(e.name)}),(0,h.jsxs)("p",{children:["Name: ",e.name]}),(0,h.jsxs)("p",{children:["Character: ",e.character]})]},e.id)}))})}function v(e){var t=e.reviews.results;return(0,h.jsx)("ul",{children:t.map((function(e){var t=e.id,n=e.author,r=e.content;return(0,h.jsxs)("li",{children:[(0,h.jsxs)("strong",{children:["Author: ",n]}),(0,h.jsx)("p",{children:r})]},t)}))})}function m(){var e,t,n=(0,s.UO)().id,a=(0,c.useState)((function(){return(0,o.h_)(n).then((function(e){return f(e)})).catch((function(e){return console.log(e)}))})),l=(0,r.Z)(a,2),u=l[0],f=l[1],m=(0,c.useState)((function(){return(0,o.h_)(n,o.xL.reviews).then((function(e){return _(e)})).catch((function(e){return console.log(e)}))})),j=(0,r.Z)(m,2),p=j[0],_=j[1],g=(0,c.useState)((function(){return(0,o.h_)(n,o.xL.credits).then((function(e){return k(e)})).catch((function(e){return console.log(e)}))})),w=(0,r.Z)(g,2),N=w[0],k=w[1],L=(0,c.useState)(!1),b=(0,r.Z)(L,2),C=b[0],U=b[1],Z=null!==(e=null===(t=(0,s.TH)().state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/movies";return(0,c.useEffect)((function(){U(!0),(0,o.h_)(n).then((function(e){return f(e)})).catch((function(e){return console.log(e)})),(0,o.h_)(n,o.xL.reviews).then((function(e){return _(e)})).catch((function(e){return console.log(e)})),(0,o.h_)(n,o.xL.credits).then((function(e){return k(e)})).catch((function(e){return console.log(e)})).then((function(){return U(!1)}))}),[n]),C?"Loading...":(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(i.rU,{className:"btnBack",to:Z,children:["<<"," Back to movies"]}),(0,h.jsx)(d,{movie:u}),(0,h.jsxs)(s.Z5,{children:[(0,h.jsx)(s.AW,{path:"reviews",element:p.total_results?(0,h.jsx)(v,{reviews:p}):"No reviews yet"}),(0,h.jsx)(s.AW,{path:"cast",element:N.cast?(0,h.jsx)(x,{credits:N}):"No cast listed"})]})]})}}}]);
//# sourceMappingURL=261.0a0795d4.chunk.js.map